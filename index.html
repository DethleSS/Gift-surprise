    <!DOCTYPE html>
    <html lang="ru">
    <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>üéÅ –ü–æ—Å–ª–µ–¥–Ω—è—è –∫–æ—Ä–æ–±–∫–∞</title>

    <style>
    html,body{
    margin:0;
    height:100%;
    overflow:hidden;
    overscroll-behavior:none;
    touch-action:none;
    background:#0b0b0b;
    font-family:-apple-system,BlinkMacSystemFont,sans-serif;
    color:white;
    }

    /* ================= –û–ë–©–ò–ï –ö–ù–û–ü–ö–ò ================= */
    .bigBtn{
    width:85%;
    height:26dvh;
    font-size:30px;
    font-weight:700;
    border-radius:30px;
    border:none;
    background:linear-gradient(135deg,#fff,#e8e8e8);
    color:black;
    box-shadow:0 15px 40px rgba(0,0,0,.6);
    }

    /* ================= –ü–ï–†–í–´–ô –≠–ö–†–ê–ù ================= */
    #introScreen{
    position:fixed;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background:radial-gradient(circle,#1a1a1a,#000);
    }

    /* ================= GAME ================= */
    #gameScreen{
    display:none;
    position:fixed;
    inset:0;
    background:#000;
    }

    #gameText{
    position:absolute;
    top:20px;
    width:100%;
    text-align:center;
    font-size:22px;
    }

    /* üß∫ –∫–æ—Ä–∑–∏–Ω–∞ */
    #bucket{
    position:absolute;
    bottom:25px;
    width:110px;
    height:70px;

    background:linear-gradient(#caa472,#a37b49);
    border-radius:20px 20px 30px 30px;

    box-shadow:0 10px 25px rgba(0,0,0,.6);
    display:flex;
    align-items:center;
    justify-content:center;

    font-size:36px;
    }

    .fall{
    position:absolute;
    font-size:32px;
    }

    /* ================= –ü–û–°–õ–ï –ò–ì–†–´ ================= */
    #afterGame{
    display:none;
    position:fixed;
    inset:0;
    align-items:center;
    justify-content:center;
    background:radial-gradient(circle,#1a1a1a,#000);
    }

    /* ================= VIDEO ================= */
    video{
    display:none;
    position:fixed;
    inset:0;
    width:100vw;
    height:100dvh;
    object-fit:contain;
    background:black;
    }

    /* ================= OVERLAY ================= */
    #overlay{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.75);
    backdrop-filter:blur(8px);
    opacity:0;
    transition:.4s;
    z-index:5;
    }

    /* ================= POPUPS ================= */
    .popup{
    display:none;
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%) scale(.85);
    width:90%;
    max-width:420px;
    padding:28px;
    background:white;
    color:black;
    border-radius:26px;
    text-align:center;
    opacity:0;
    transition:.35s;
    z-index:10;
    }

    .popup.show{
    opacity:1;
    transform:translate(-50%,-50%) scale(1);
    }

    .answers{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:8px;
    margin-top:15px;
    }

    .answers button{
    padding:10px;
    border:none;
    border-radius:10px;
    }

    /* ================= CONFETTI ================= */
    #confetti{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:20;
    }
    </style>
    </head>

    <body>

    <!-- ===== INTRO ===== -->
    <div id="introScreen">
    <button id="openGameBtn" class="bigBtn">–û—Ç–∫—Ä—ã—Ç—å üéÅ</button>
    </div>

    <!-- ===== GAME ===== -->
    <div id="gameScreen">
    <div id="gameText">–ü–æ–π–º–∞–π 8 –ø–æ–¥–∞—Ä–∫–æ–≤ üéÅ</div>
    <div id="bucket">üß∫</div>
    </div>

    <!-- ===== –ö–ù–û–ü–ö–ê –ü–û–°–õ–ï –ò–ì–†–´ ===== -->
    <div id="afterGame">
    <button id="startBtn" class="bigBtn">üéÅ –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–æ—Ä–æ–±–∫—É</button>
    </div>

    <!-- ===== VIDEO ===== -->
    <video id="vid" playsinline>
    <source src="./video.mp4" type="video/mp4">
    </video>

    <div id="overlay"></div>
    <canvas id="confetti"></canvas>

    <!-- ===== POPUPS ===== -->
    <div id="mathPopup" class="popup">
    <h2>–ü–æ–¥–æ–∂–¥–∏‚Ä¶</h2>
    <p style="opacity:.7">–†–µ—à–∏ –ø—Ä–∏–º–µ—Ä —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</p>
    log‚ÇÇ(256) √ó ‚àö144 + 7¬≥ ‚àí (15 √∑ 3) =
    <div class="answers">
        <button>42</button><button>128</button>
        <button>731</button><button>96</button>
        <button>512</button><button>37</button>
        <button>404</button><button>81</button>
    </div>
    </div>

    <div id="midPopup" class="popup">
    –õ–∞–¥–Ω–æ‚Ä¶ üòÖ<br>–ù–µ –±—É–¥—É –≥—Ä—É–∑–∏—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π
    </div>

    <div id="finalPopup" class="popup">
    –¢—ã —Ç–æ—á–Ω–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∞<br><b>–í–°–ï –∫–æ—Ä–æ–±–∫–∏?</b> üéÅ
    </div>

    <script>
    function show(el){el.style.display='block';requestAnimationFrame(()=>el.classList.add('show'))}
    function hide(el){el.classList.remove('show');setTimeout(()=>el.style.display='none',300)}

    const intro=document.getElementById('introScreen')
    const openGameBtn=document.getElementById('openGameBtn')
    const game=document.getElementById('gameScreen')
    const bucket=document.getElementById('bucket')
    const afterGame=document.getElementById('afterGame')

    /* ===== —Å—Ç–∞—Ä—Ç –∏–≥—Ä—ã ===== */
    openGameBtn.onclick=()=>{
    intro.style.display='none'
    game.style.display='block'
    }

    /* ===== –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã ===== */
    let caught=0
    let bucketX=innerWidth/2-55
    bucket.style.left=bucketX+'px'

    function move(x){
    bucketX=x-55
    bucket.style.left=bucketX+'px'
    }
    game.ontouchmove=e=>move(e.touches[0].clientX)
    game.onmousemove=e=>move(e.clientX)

    function spawn(){
    const el=document.createElement('div')
    el.className='fall'
    el.textContent='üéÅ'
    el.style.left=Math.random()*innerWidth+'px'
    el.style.top='-30px'
    game.appendChild(el)

    let y=0
    const speed=3+Math.random()*2

    const fall=setInterval(()=>{
        y+=speed
        el.style.top=y+'px'

        if(y>innerHeight-100){
        const ex=parseFloat(el.style.left)
        if(ex>bucketX && ex<bucketX+110){
            caught++
            el.remove()
            clearInterval(fall)
            if(caught>=8){
            game.style.display='none'
            afterGame.style.display='flex'
            }
        }
        }

        if(y>innerHeight){el.remove();clearInterval(fall)}
    },16)
    }
    setInterval(spawn,700)

    /* ===== –≤–∏–¥–µ–æ + –ø–æ–ø–∞–ø—ã ===== */
    const btn=document.getElementById('startBtn')
    const vid=document.getElementById('vid')
    const overlay=document.getElementById('overlay')
    const mathPopup=document.getElementById('mathPopup')
    const midPopup=document.getElementById('midPopup')
    const finalPopup=document.getElementById('finalPopup')

    btn.onclick=async()=>{
    afterGame.style.display='none'
    vid.style.display='block'
    vid.muted=true
    await vid.play()
    vid.muted=false

    setTimeout(()=>{
        vid.volume=.15
        overlay.style.display='block'
        overlay.style.opacity='1'
        show(mathPopup)

        setTimeout(()=>{
        hide(mathPopup)
        show(midPopup)

        setTimeout(()=>{
            hide(midPopup)
            show(finalPopup)
            setTimeout(startConfetti,2000)
        },4000)

        },5000)

    },10000)
    }

    /* ===== confetti ===== */
    const canvas=document.getElementById('confetti')
    const ctx=canvas.getContext('2d')
    const emojis=['‚ù§Ô∏è','üéÅ','‚ú®']
    let pieces=[]

    function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
    resize();onresize=resize

    function startConfetti(){
    pieces=[]
    for(let i=0;i<120;i++){
        pieces.push({x:Math.random()*canvas.width,y:-20,s:18+Math.random()*18,v:2+Math.random()*3,e:emojis[Math.floor(Math.random()*3)]})
    }

    const start=Date.now()
    function draw(){
        ctx.clearRect(0,0,canvas.width,canvas.height)
        pieces.forEach(p=>{
        p.y+=p.v
        ctx.font=p.s+'px serif'
        ctx.fillText(p.e,p.x,p.y)
        })
        if(Date.now()-start<3000)requestAnimationFrame(draw)
    }
    draw()
    }
    </script>

    </body>
    </html>
